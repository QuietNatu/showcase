<!-- TODO: accordion directives -->

<div
  class="sidebar__item"
  role="button"
  tabindex="0"
  [id]="id + '-trigger'"
  [attr.aria-expanded]="isGroupExpanded()"
  [attr.aria-controls]="id + '-region'"
  (click)="handleToggleGroup()"
  (keyup.enter)="handleToggleGroup()"
  (keyup.space)="handleToggleGroup()"
>
  <ng-content select="[natuSidebarGroupIcon]" />
  <ng-content select="[natuSidebarGroupLabel]" />

  @if (isExpanded()) {
    <span class="sidebar__item-group-icon">
      <svg-icon [key]="isGroupExpanded() ? 'caret-up' : 'caret-down'" />
    </span>
  }
</div>

@if (isExpanded()) {
  <natu-sidebar-item-list
    role="region"
    [id]="id + '-region'"
    [attr.aria-labelledby]="id + '-trigger'"
    [hidden]="!isGroupExpanded()"
    [items]="items()"
  />
}
